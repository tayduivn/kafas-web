{"version":3,"sources":["../../src/pages/registration/registration.module.ts","../../src/app/pipes.module.ts","../../src/app/app.pipe.ts","../../src/pages/registration/registration.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { RegistrationPage } from \"./registration\";\nimport { PipesModule } from \"../../app/pipes.module\";\n\n@NgModule({\n  declarations: [RegistrationPage],\n  imports: [IonicPageModule.forChild(RegistrationPage), PipesModule],\n  exports: [RegistrationPage]\n})\nexport class RegistrationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.module.ts","import { NgModule } from \"@angular/core\";\nimport { AppPipe } from \"./app.pipe\";\nimport { TranslateModule } from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [AppPipe],\n  imports: [TranslateModule],\n\n  exports: [TranslateModule, AppPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes.module.ts","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"limitPipe\"\n})\nexport class AppPipe implements PipeTransform {\n  transform(value: string, args: any[]): any {\n    if (value) {\n      let limit = args.length > 0 ? parseInt(args[0], 50) : 50;\n      let trail = args.length > 1 ? args[1] : \"...\";\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.pipe.ts","import { Component, NgZone, OnInit } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  LoadingController,\n  Platform,\n  ViewController,\n  AlertController,\n  ModalController,\n  ToastController,\n  NavParams,\n  ActionSheetController,\n\n  Events\n} from \"ionic-angular\";\nimport {\n  FormGroup,\n  FormBuilder,\n  FormControl,\n  Validators\n} from \"@angular/forms\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { AngularFireDatabase, AngularFireObject } from \"@angular/fire/database\";\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Subscription } from 'rxjs/Subscription';\nimport { filter } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage';\nimport { Observable } from 'rxjs/Observable';\nimport { NativeGeocoder, NativeGeocoderReverseResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder';\nimport {AutocompletePage} from '../../pages/autocomplete/autocomplete';\nimport * as firebase from 'firebase/app';\n\n\ndeclare var google;\n\n\n@IonicPage()\n@Component({\n  selector: \"page-registration\",\n  templateUrl: \"registration.html\",\n})\nexport class RegistrationPage implements OnInit {\n\n\n  isActiveToggleTextPassword: Boolean = true;\n  public toggleTextPassword(): void{\n      this.isActiveToggleTextPassword = (this.isActiveToggleTextPassword==true)?false:true;\n  }\n  public getType() {\n      return this.isActiveToggleTextPassword ? 'password' : 'text';\n  }\n\n\n   address: any;\n  location: any;\n  registration: FormGroup;\n  userDetails: AngularFireObject<any>;\n  loading: any;\n\n  // autocomplete\n\n  autocompleteItems;\n  autocomplete;\n\n  latitude: any;\n  longitude: any;\n  geo: any\n  lat: any;\n  lng: any;\n\n  service = new google.maps.places.AutocompleteService();\n\n  constructor(\n    public navCtrl: NavController,\n    public events: Events,\n    public fb: FormBuilder,\n    public af: AngularFireAuth,\n    public db: AngularFireDatabase,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n     private zone: NgZone,\n    public actionSheetCtrl: ActionSheetController,\n     private modalCtrl:ModalController,\n    private toastCtrl: ToastController,\n    private plt: Platform,  private nativeGeocoder: NativeGeocoder, \n    private geolocation: Geolocation, private storage: Storage, public navParams: NavParams\n  ) {\n\n        this.autocompleteItems = [];\n    this.autocomplete = {\n      query: ''\n    };\n\n\n   }\n\n   ionViewDidLoad() {\n    console.log('ionViewDidLoad RegistrationPage');\n  }\n\n\n  onSubmit() {\n     this.loading = this.loadingCtrl.create({\n        //  content: \"Please wait..\",\n      spinner: \"dots\",\n      cssClass: 'my-loading-class'\n    });\n    this.loading.present();\n    \n\n    this.af.auth.createUserWithEmailAndPassword(this.registration.value.email, this.registration.value.password)\n      .then((success: any) => {\n       const uid = this.af.auth.currentUser.uid;\n       localStorage.setItem(\"name\", this.registration.value.firstName + \" \" + this.registration.value.lastName);\n        this.db.object(\"/users/\" + uid).update({\n          firstName: this.registration.value.firstName,\n        lastName: this.registration.value.lastName,\n          name: this.registration.value.firstName + \" \" + this.registration.value.lastName,\n          email: this.registration.value.email,\n          mobileNo: this.registration.value.mobileNo,\n          location: this.address,\n          role: \"User\",\n          uid: uid\n        });\n        this.db.object(\"/address/\" + uid).update({\n          firstName: this.registration.value.firstName,\n          lastName: this.registration.value.lastName,\n          name: this.registration.value.firstName + \" \" + this.registration.value.lastName,\n        email: this.registration.value.email,\n          mobileNo: this.registration.value.mobileNo,\n          location: this.address,\n          uid: uid\n       });\n        \n        localStorage.setItem(\"uid\", success.uid);\n        localStorage.setItem(\"email\", this.registration.value.email);\n        localStorage.setItem(\"firstName\", this.registration.value.firstName);\n        localStorage.setItem(\"lastName\", this.registration.value.lastName);\n\n        let user = firebase.auth().currentUser;\n         user.sendEmailVerification();\n          this.loading.dismiss();\n         this.showAlert2(\"A verification email has been sent to \" + this.registration.value.email + \" Please go to link in the email to verify your account. Link valid for 24 hours.\");\n\n       \n       // this.navCtrl.setRoot(\"TabPage\");\n      }).catch(error => {\n       this.loading.dismiss();\n        console.log(\"Firebase failure: \" + JSON.stringify(error));\n        this.showAlert(error.message);\n    });\n  }\n\n  showAlert(message) {\n    let alert = this.alertCtrl.create({\n      subTitle: message,\n      buttons: [\"OK\"]\n    });\n    alert.present();\n  }\n\n   showAlert2(message) {\n    let alert = this.alertCtrl.create({\n      subTitle: message,\n       buttons: [\n        {\n          text: 'OK',\n          handler: data => {\n            this.af.auth.signOut();\n             this.navCtrl.setRoot(\"LoginPage\");\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n\n  navLogin() {\n    this.navCtrl.setRoot(\"LoginPage\");\n  }\n\n  ngOnInit(): any {\n    this.buildForm();\n  }\n\n  //Validation\n  buildForm(): void {\n    this.registration = new FormGroup({\n      firstName: new FormControl(\"\", Validators.required),\n      lastName: new FormControl(\"\", Validators.required),\n      mobileNo: new FormControl(\"\", Validators.required),\n      address: new FormControl(\"\", Validators.required),\n      email: new FormControl(\"\", [\n        Validators.required,\n        Validators.pattern(\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{1,63}$\")\n      ]),\n      password: new FormControl(\"\", [\n        Validators.required,\n        Validators.minLength(4),\n        Validators.maxLength(24)\n      ])\n    });\n  }\n\n\n  public onClickCancel() {\n    this.navCtrl.push('IntroPage')\n  }\n\n\n// Autocomplete Address\n\n\n   showAddressModal () {\n    let modal = this.modalCtrl.create(AutocompletePage);\n    let me = this;\n    modal.onDidDismiss(data => {\n      this.address = data;\n    });\n    modal.present();\n  }\n\n\n\n\n dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  chooseItem(item: any) {\n   this.viewCtrl.dismiss();\n    this.autocomplete.query = item;\n  //  this.geoCode(this.geo);//convert Address to lat and long\n  }\n\n  updateSearch() {\n\n    if (this.autocomplete.query == '') {\n     this.autocompleteItems = [];\n     return;\n    }\n\n    let me = this;\n    this.service.getPlacePredictions({\n    input: this.autocomplete.query,\n    componentRestrictions: {\n      country: 'ng'\n    }\n   }, (predictions, status) => {\n     me.autocompleteItems = [];\n\n   me.zone.run(() => {\n     if (predictions != null) {\n        predictions.forEach((prediction) => {\n          me.autocompleteItems.push(prediction.description);\n        });\n       }\n     });\n   });\n  }\n\n  //convert Address string to lat and long\n  geoCode(address:any) {\n    let geocoder = new google.maps.Geocoder();\n    geocoder.geocode({ 'address': address }, (results, status) => {\n    this.latitude = results[0].geometry.location.lat();\n    this.longitude = results[0].geometry.location.lng();\n  //  alert(\"lat: \" + this.latitude + \", long: \" + this.longitude);\n\n   });\n }\n\n isOrders(): boolean {\n    return this.autocompleteItems.length == 0 ? false : true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.ts"],"sourceRoot":""}