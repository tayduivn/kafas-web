{"version":3,"sources":["../../src/pages/address/address.module.ts","../../src/pages/address/address.ts"],"names":[],"mappings":"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","file":"31.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddressPage } from './address';\n\n@NgModule({\n  declarations: [\n    AddressPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddressPage),\n  ],\n})\nexport class AddressPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address/address.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  AlertController\n} from \"ionic-angular\";\nimport {\n  AngularFireDatabase,\n  AngularFireList\n} from \"@angular/fire/database\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { map } from \"rxjs/operators\";\nimport { ActionSheetController } from 'ionic-angular';\n\n/**\n * Generated class for the AddressPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-address',\n  templateUrl: 'address.html',\n})\nexport class AddressPage {\n\n \n  address: any = {};\n  addressList: any = [];\n  orderDetails: any = {};\n  pincodes: Array<any>;\n  public pincodeMatched: boolean = true;\n  public userRef: AngularFireList<any>;\n\n\n  constructor(public navCtrl: NavController, public actionSheetCtrl: ActionSheetController, public navParams: NavParams,   public af: AngularFireAuth,\n    public db: AngularFireDatabase,\n    public alertCtrl: AlertController) {\n\n\n      if (this.af.auth.currentUser) {\n        this.db\n          .list(\"/users/\" + this.af.auth.currentUser.uid + \"/address\")\n          .snapshotChanges()\n          .pipe(\n            map(changes =>\n              changes.map(c => ({ $key: c.payload.key, ...c.payload.val() }))\n            )\n          ).subscribe((res: any) => {\n            this.addressList = res;\n          })\n\n          this.db\n      .list(\"delivery-options\")\n      .valueChanges()\n      .subscribe(res => {\n        this.pincodes = res;\n        console.log(\"pincodes-\" + JSON.stringify(res));\n       });\n\n       this.userRef = this.db.list(\n        \"users/\" + this.af.auth.currentUser.uid + \"/loyaltyPoints\"\n      );\n  \n\n\n    }\n\n  }\n\n // Add Address\n addAddress() {\n  this.navCtrl.push(\"AddAddressPage\", {\n    id: 0\n  });\n}\n\n//Selected Address\nselectAddress(key, address) {\n  this.pincodeMatched = true;\n  this.orderDetails.shippingAddress = address;\n  for (let i = 0; i < this.pincodes.length; i++) {\n    if (this.pincodes[i].pincode == address.pincode) {\n      this.pincodeMatched = true;\n    }\n  }\n}\n\nshowAlert(message) {\n  let alert = this.alertCtrl.create({\n    title: \"Sorry!\",\n    subTitle: message,\n    buttons: [\"OK\"]\n  });\n  alert.present();\n}\n\nnavSupport() {\n  this.navCtrl.push(\"ContactPage\");\n}\n\naddressMenu() {\n  const actionSheet = this.actionSheetCtrl.create({\n //   title: 'Modify your album',\n     cssClass: 'myPage',\n    buttons: [\n      {\n        text: 'Contact Us',\n        role: 'destructive',\n        cssClass: 'textSize',\n        handler: () => {\n          this.navCtrl.push(\"ContactPage\");\n        }\n      },\n      {\n        text: 'Cancel',\n        role: 'cancel',\n        cssClass: 'myActionSheetBtnStyle',\n      }\n    ]\n  });\n  actionSheet.present();\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address/address.ts"],"sourceRoot":""}