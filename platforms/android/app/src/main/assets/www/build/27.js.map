{"version":3,"sources":["../../src/pages/table-booking/table-booking.module.ts","../../src/pages/table-booking/table-booking.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { TableBookingPage } from \"./table-booking\";\n\n@NgModule({\n  declarations: [TableBookingPage],\n  imports: [IonicPageModule.forChild(TableBookingPage)]\n})\nexport class TableBookingPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/table-booking/table-booking.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  AlertController,\n  ToastController,\n  LoadingController,\n  ActionSheetController,\n  Platform,\n  Events\n} from \"ionic-angular\";\nimport { DatePicker } from \"@ionic-native/date-picker\";\nimport { AngularFireDatabase } from \"@angular/fire/database\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport * as firebase from \"firebase/app\";\nimport { NgForm } from \"@angular/forms\";\nimport { Time } from \"@angular/common\";\n\n@IonicPage()\n@Component({\n  selector: \"page-table-booking\",\n  templateUrl: \"table-booking.html\"\n})\nexport class TableBookingPage {\n  public date: any;\n  public time: any;\n  public person: any;\n public csize: any;\n // public location: any;\n  private uid: string;\n\n  public bookTable: {\n    userID: string;\n    time: Time;\n    date: Date;\n   // person: number;\n    csize: string;\n    status: string;\n  //  location: string;\n  \n  };\n\n  user: any = {};\n  url: any = \"assets/img/profile.jpg\";\n  value: any;\n  options = [\n    {\n      language: \"ENGLISH\",\n      value: \"en\"\n    },\n    {\n      language: \"FRENCH\",\n      value: \"fr\"\n    },\n    {\n      language: \"ARABIC\",\n      value: \"ar\"\n    }\n  ];\n  public file: any = {};\n  public storageRef = firebase.storage();\n\n  constructor(\n    public navCtrl: NavController,\n    public datePicker: DatePicker,\n    private dbService: AngularFireDatabase,\n    private alertCtrl: AlertController,\n    private toastCtrl: ToastController,\n    public af: AngularFireAuth,\n    public db: AngularFireDatabase,\n    public loadingCtrl: LoadingController,\n    public actionSheetCtrl: ActionSheetController, \n    public platform: Platform,\n    public translate: TranslateService,\n    public events: Events\n  ) {\n    this.uid = this.af.auth.currentUser.uid;\n  }\n\n\n\n\n  \n  onClickBookTable(user: NgForm) {\n      this.bookTable = {\n        userID: this.uid,\n        status: \"Pending\",\n        time: this.time,\n        date: this.date,\n     //   person: this.person,\n        csize: (\" \" + this.csize) ,\n   //     location: this.location\n      };\n      this.presentConfirm();\n   \n  }\n\n  presentConfirm() {\n    let alert = this.alertCtrl.create({\n      title: \"Confirm Cylinder Refill?\",\n      message: \"After confirmation, our representative would reach out to you via Phone after which, plans for your refill would be processed. \",\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          handler: () => {\n            this.presentToast(\"Not Intrested?. Going back...\");\n            this.navCtrl.pop();\n          }\n        },\n        {\n          text: \"Confirm\",\n          handler: () => {\n            if (this.af.auth.currentUser) {\n            this.dbService\n              .list(\"table-bookings\")\n              .push(this.bookTable)\n              .then(res => {\n                this.presentToast(\"Cylinder Refill Schedule has been created succesfully!\");\n                this.navCtrl.pop();\n              });\n          }\n        }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 3000,\n      position: \"bottom\"\n    });\n    toast.present();\n  }\n\n\n  ngOnInit() {\n    if (this.af.auth.currentUser) {\n      this.db\n        .object(\"/users/\" + this.af.auth.currentUser.uid)\n        .valueChanges()\n        .subscribe((res: any) => {\n          this.user = res;\n          this.user.image = res.image ? res.image : \"\";\n          this.url = res.image ? res.image : \"assets/img/profile.jpg\";\n        });\n    }\n  }\n\n  readUrl(event) {\n    this.file = (<HTMLInputElement>document.getElementById(\"file\")).files[0];\n    let metadata = {\n      contentType: \"image/*\"\n    };\n    let loader = this.loadingCtrl.create({\n    //  content: \"Please wait..\",\n      spinner: \"dots\",\n      cssClass: 'my-loading-class'\n    });\n    loader.present();\n    this.storageRef\n      .ref()\n      .child(\"profile/\" + this.file.name)\n      .put(this.file, metadata)\n      .then(res => {\n        this.user.image = res.downloadURL;\n        this.url = res.downloadURL;\n        this.db\n          .object(\"users\" + \"/\" + this.af.auth.currentUser.uid + \"/image\")\n          .set(res.downloadURL);\n        loader.dismiss();\n      })\n      .catch(error => {\n        loader.dismiss();\n      });\n  }\n\n  changeLanguage() {\n    localStorage.setItem(\"language\", this.value);\n    if (this.value == \"fr\") {\n      this.platform.setDir(\"ltr\", true);\n      this.translate.use(\"fr\");\n    } else if (this.value == \"ar\") {\n      this.platform.setDir(\"rtl\", true);\n      this.translate.use(\"ar\");\n    } else {\n      this.platform.setDir(\"ltr\", true);\n      this.translate.use(\"en\");\n    }\n  }\n\n\n  createToaster(message, duration) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: duration\n    });\n    toast.present();\n  }\n\n  addressMenu() {\n    const actionSheet = this.actionSheetCtrl.create({\n   //   title: 'Modify your album',\n       cssClass: 'myPage',\n      buttons: [\n        {\n          text: 'Wishlist',\n          role: 'destructive',\n          cssClass: 'textSize',\n          handler: () => {\n            this.navCtrl.push(\"FavouritePage\");\n          }\n        }, {\n          text: 'Contact Us',\n          role: 'destructive',\n          cssClass: 'textSize',\n          handler: () => {\n            this.navCtrl.push(\"ContactPage\");\n          }\n        },{\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'myActionSheetBtnStyle',\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n  \n\ngoToProfile(){\n  this.navCtrl.push(\"Settings\")\n}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/table-booking/table-booking.ts"],"sourceRoot":""}