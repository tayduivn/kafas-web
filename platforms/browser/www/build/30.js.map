{"version":3,"sources":["../../src/pages/booking-history/booking-history.module.ts","../../src/pages/booking-history/booking-history.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACO;AAMvD;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QAJpC,+DAAQ,CAAC;YACR,YAAY,EAAE,CAAC,4EAAkB,CAAC;YAClC,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,4EAAkB,CAAC,CAAC;SACxD,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACRK;AAC4C;AAE1B;AACP;AAOrD;IAQE,4BACS,OAAsB,EACrB,SAA8B,EAC9B,SAA0B,EAC3B,eAAsC,EACtC,EAAmB;QAI7B,8EAA8E;QAC7E,qFAAqF;QAVrF,iBA2CD;QA1CU,YAAO,GAAP,OAAO,CAAe;QACrB,cAAS,GAAT,SAAS,CAAqB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC3B,oBAAe,GAAf,eAAe,CAAuB;QACtC,OAAE,GAAF,EAAE,CAAiB;QAZrB,mBAAc,GAAW,EAAE,CAAC;QAoBjC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;QAE3C,4CAA4C;QACzC,IAAI,CAAC,SAAS;aACX,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC;aAC3B,YAAY,EAAE;aACd,SAAS,CAAC,UAAC,IAAS;YACnB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACrB,wBAAwB;YACtB,+BAA+B;YACjC,MAAM;QAEL,CAAC,CAAC,CAAC;QACP,SAAS;aACJ,IAAI,CAAC,gBAAgB,CAAC;aACtB,YAAY,EAAE;aACd,SAAS,CACR,aAAG;YACD,KAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,GAAG,CAAC,OAAO,CAAC,UAAC,IAAS;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAChC,uCAAuC;oBACnC,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,EACD,eAAK;YACH,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACnC,CAAC,CACF,CAAC;IACR,CAAC;IAEC,yCAAY,GAAZ,UAAa,GAAG;QACd,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,GAAG;YACZ,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,QAAQ;SACnB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAGD,sCAAS,GAAT;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YACpC,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAID,wCAAW,GAAX;QAAA,iBA2BC;QA1BC,IAAM,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YACjD,gCAAgC;YAC5B,QAAQ,EAAE,QAAQ;YACnB,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,aAAa;oBACnB,QAAQ,EAAE,UAAU;oBACpB,OAAO,EAAE;wBACP,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACrC,CAAC;iBACF,EAAE;oBACD,IAAI,EAAE,YAAY;oBAClB,IAAI,EAAE,aAAa;oBACnB,QAAQ,EAAE,UAAU;oBACpB,OAAO,EAAE;wBACP,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACnC,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,QAAQ,EAAE,uBAAuB;iBAClC;aACF;SACF,CAAC,CAAC;QACH,WAAW,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IApGU,kBAAkB;QAJ9B,gEAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;WACG;SACpC,CAAC;gGAU+B;YACV,uEAAmB;YACnB,4EAAe;YACV,6EAAqB;YAClC,eAAe;OAbjB,kBAAkB,CA0G9B;IAAD,CAAC;AAAA;SA1GY,kBAAkB,gB","file":"30.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { BookingHistoryPage } from \"./booking-history\";\n\n@NgModule({\n  declarations: [BookingHistoryPage],\n  imports: [IonicPageModule.forChild(BookingHistoryPage)]\n})\nexport class BookingHistoryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/booking-history/booking-history.module.ts","import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, ToastController, ActionSheetController } from \"ionic-angular\";\n\nimport { AngularFireDatabase} from \"@angular/fire/database\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\n\n@IonicPage()\n@Component({\n  selector: \"page-booking-history\",\n  templateUrl: \"booking-history.html\"\n})\nexport class BookingHistoryPage {\n  public bookingDetails:  any[] = [];\n  private uid: string;\n // BookingDetails: AngularFireList<any>;\n  //  private username: string;\n  noOfItems: number;\n\n\n  constructor(\n    public navCtrl: NavController,\n    private dbService: AngularFireDatabase,\n    private toastCtrl: ToastController,\n    public actionSheetCtrl: ActionSheetController,\n    public af: AngularFireAuth\n  ) {\n \n \n //   this.bookingDetails = JSON.parse(localStorage.getItem(\"bookingDetails\"));\n  //  this.noOfItems = this.bookingDetails != null ? this.bookingDetails.length : null;\n    \n\n    this.uid = this.af.auth.currentUser.uid;\n\n //   this.uid = localStorage.getItem(\"uid\");\n    this.dbService\n      .object(\"users/\" + this.uid)\n      .valueChanges()\n      .subscribe((user: any) => {\n        console.log(user);\n     //   if (user != null) {\n       //   this.username = user.name;\n     //   }\n\n      });\n  dbService\n      .list(\"table-bookings\")\n      .valueChanges()\n      .subscribe(\n        res => {\n          this.bookingDetails = [];\n          res.forEach((item: any) => {\n            if (item.userID == this.uid) {\n          //    item[\"username\"] = this.username;\n              this.bookingDetails.push(item);\n            }\n          });\n        },\n        error => {\n          this.presentToast(error.message);\n        }\n      );\n}\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 3000,\n      position: \"bottom\"\n    });\n    toast.present();\n  }\n\n\n  isBooking(): boolean {\n    if (this.bookingDetails.length == 0) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n\n\n  addressMenu() {\n    const actionSheet = this.actionSheetCtrl.create({\n   //   title: 'Modify your album',\n       cssClass: 'myPage',\n      buttons: [\n        {\n          text: 'Wishlist',\n          role: 'destructive',\n          cssClass: 'textSize',\n          handler: () => {\n            this.navCtrl.push(\"FavouritePage\");\n          }\n        }, {\n          text: 'Contact Us',\n          role: 'destructive',\n          cssClass: 'textSize',\n          handler: () => {\n            this.navCtrl.push(\"ContactPage\");\n          }\n        },{\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'myActionSheetBtnStyle',\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n  \n\n\n\n\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/booking-history/booking-history.ts"],"sourceRoot":""}