{"version":3,"sources":["../../src/pages/favourite/favourite.module.ts","../../src/app/pipes.module.ts","../../src/app/app.pipe.ts","../../src/pages/favourite/favourite.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { FavouritePage } from \"./favourite\";\nimport { PipesModule } from \"../../app/pipes.module\";\n\n@NgModule({\n  declarations: [FavouritePage],\n  imports: [IonicPageModule.forChild(FavouritePage), PipesModule],\n  exports: [FavouritePage]\n})\nexport class FavouritePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/favourite/favourite.module.ts","import { NgModule } from \"@angular/core\";\nimport { AppPipe } from \"./app.pipe\";\nimport { TranslateModule } from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [AppPipe],\n  imports: [TranslateModule],\n\n  exports: [TranslateModule, AppPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes.module.ts","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"limitPipe\"\n})\nexport class AppPipe implements PipeTransform {\n  transform(value: string, args: any[]): any {\n    if (value) {\n      let limit = args.length > 0 ? parseInt(args[0], 50) : 50;\n      let trail = args.length > 1 ? args[1] : \"...\";\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.pipe.ts","import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, ToastController } from \"ionic-angular\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { AngularFireDatabase } from \"@angular/fire/database\";\nimport { map } from \"rxjs/operators\";\n\n@IonicPage()\n@Component({\n  selector: \"page-favourite\",\n  templateUrl: \"favourite.html\"\n})\nexport class FavouritePage {\n  favouriteItems: any[] = [];\n  Cart: any[];\n  noOfItems: number;\n\n  constructor(\n    public af: AngularFireAuth,\n    public db: AngularFireDatabase,\n    public navCtrl: NavController,\n    public toastCtrl: ToastController\n  ) {\n    this.Cart = JSON.parse(localStorage.getItem(\"Cart\"));\n    this.noOfItems = this.Cart != null ? this.Cart.length : null;\n    if (this.af.auth.currentUser) {\n      this.db\n        .list(\"/users/\" + this.af.auth.currentUser.uid + \"/favourite/\")\n        .snapshotChanges()\n        .pipe(\n          map(changes =>\n            changes.map(c => ({ $key: c.payload.key, ...c.payload.val() }))\n          )\n        ).subscribe((res: any) => {\n          this.favouriteItems = res;\n        })\n      // .subscribe((res: any) => {\n      //   this.favouriteItems = [];\n      //   res.forEach(item => {\n      //     let temp = item.payload.val();\n      //     temp[\"$key\"] = item.payload.key;\n      //     this.favouriteItems.push(temp);\n      //   });\n      // });\n    }\n  }\n\n  isFavourite(): boolean {\n    if (this.favouriteItems.length == 0) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  buyNow(key) {\n    this.navCtrl.push(\"ProductDetailsPage\", { id: key });\n  }\n\n  navcart() {\n    this.navCtrl.push(\"CartPage\");\n  }\n\n  removeFromFavourites(key) {\n    if (this.af.auth.currentUser) {\n      this.db\n        .object(\"/users/\" + this.af.auth.currentUser.uid + \"/favourite/\" + key)\n        .remove();\n      this.createToaster(\"removed from wishlist\", \"3000\");\n    }\n  }\n\n  createToaster(message, duration) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: duration\n    });\n    toast.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/favourite/favourite.ts"],"sourceRoot":""}